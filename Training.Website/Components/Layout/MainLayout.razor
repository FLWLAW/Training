@inherits LayoutComponentBase

@using Training.Website.Components.Pages

<TelerikRootComponent>
    <div class="page">
        <CascadingValue Value="@ApplicationState">
            <div class="sidebar">
                <NavMenu />
            </div>
            <main>
                <article class="content px-4">
                    <ErrorBoundary Context="Exception">
                        <ChildContent>
                            <MainTitleBar />
                            @if(string.IsNullOrWhiteSpace(SessionID) == true)
                            {
                                @Body
                            }
                            else
                            {
                                <TrainingQuestionnaireUser SessionID_QueryString=@SessionID />
                            }
                        </ChildContent>
                        <ErrorContent>
                            <div class="alert bg-danger text-white alert-dismissible">
                                @Exception.GetType():
                                <br />
                                @Exception.StackTrace
                                <label>----------------------------------------</label>
                                @Exception.Message
                                <button class="btn-close" data-bs-dismiss="alert"></button>
                            </div>
                        </ErrorContent>
                    </ErrorBoundary>
                </article>
            </main>
        </CascadingValue>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred and we do not know what it is.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>
</TelerikRootComponent>